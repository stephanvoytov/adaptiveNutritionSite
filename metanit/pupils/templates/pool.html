{% extends "base.html" %}
{% load static %}

{% block title %}–í—ã–±–æ—Ä –∑–∞–≤—Ç—Ä–∞–∫–æ–≤{% endblock %}

{% block content %}

    <article>
        <hgroup>
            <h1>üçΩÔ∏è –í—ã–±–æ—Ä –∑–∞–≤—Ç—Ä–∞–∫–æ–≤</h1>
            <h2>–ù–∞ –æ—Å—Ç–∞–≤—à—É—é—Å—è –Ω–µ–¥–µ–ª—é</h2>
        </hgroup>

        {% if not week_dates %}
        <article>
            <h3>‚úÖ –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ –≤—ã–±–æ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω</h3>
            <p>–°–ª–µ–¥—É—é—â–∏–π –≤—ã–±–æ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫.</p>
        </article>
        {% else %}
        <form method="POST">
            {% csrf_token %}

            <fieldset>
                <legend>üë§ –î–∞–Ω–Ω—ã–µ —É—á–µ–Ω–∏–∫–∞</legend>

                <label>
                    –ò–º—è
                    <input type="text" name="first_name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" required>
                </label>

                <label>
                    –§–∞–º–∏–ª–∏—è
                    <input type="text" name="last_name" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é" required>
                </label>

                <label>
                    –ö–ª–∞—Å—Å
                    <select name="class_name" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å --</option>
                        {% for class in classes %}
                        <option value="{{ class.id }}">{{ class.name }}</option>
                        {% endfor %}
                    </select>
                </label>
            </fieldset>

            <fieldset>
                <legend>üìÖ –í—ã–±–æ—Ä –∑–∞–≤—Ç—Ä–∞–∫–æ–≤</legend>

                {% for day in week_data %}
                <article>
                    <h4>
                        {% if day.date.weekday == 0 %}–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
                        {% elif day.date.weekday == 1 %}–í—Ç–æ—Ä–Ω–∏–∫
                        {% elif day.date.weekday == 2 %}–°—Ä–µ–¥–∞
                        {% elif day.date.weekday == 3 %}–ß–µ—Ç–≤–µ—Ä–≥
                        {% elif day.date.weekday == 4 %}–ü—è—Ç–Ω–∏—Ü–∞{% endif %}
                        ({{ day.date|date:"d.m" }})
                    </h4>

                    {% if day.has_menu %}
                    <label>
                        <input type="radio" name="breakfast_{{ day.date|date:'Y-m-d' }}"
                               value="{{ day.menu.option_1.id }}" required>
                        {{ day.menu.option_1.name }}
                    </label>
                    <label>
                        <input type="radio" name="breakfast_{{ day.date|date:'Y-m-d' }}"
                               value="{{ day.menu.option_2.id }}">
                        {{ day.menu.option_2.name }}
                    </label>
                    <label>
                        <input type="radio" name="breakfast_{{ day.date|date:'Y-m-d' }}"
                               value="none" checked>
                        ‚ùå –ù–∏—á–µ–≥–æ
                    </label>
                    {% else %}
                    <p><small>üö´ –ú–µ–Ω—é –Ω–µ –∑–∞–¥–∞–Ω–æ</small></p>
                    {% endif %}
                </article>
                {% endfor %}
            </fieldset>

            <button type="submit" class="contrast">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä</button>
        </form>
        {% endif %}
    </article>
{% endblock %}